<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GradeWise | Cloud Edition</title>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth-compat.js"></script>
    <style>
        :root { --neon: #d4ff00; --bg: #000; --text: #fff; --panel: #0a0a0a; }
        body { background: var(--bg); color: var(--text); font-family: 'Inter', sans-serif; margin: 0; transition: 0.5s; }
        .container { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; text-align: center; }
        textarea { width: 80%; max-width: 600px; height: 100px; background: transparent; border: 1px solid #333; color: white; padding: 15px; border-radius: 10px; margin-bottom: 20px; outline: none; }
        button { background: var(--neon); color: black; border: none; padding: 15px 30px; border-radius: 50px; cursor: pointer; font-weight: bold; }
        #page-report { display: none; flex-direction: column; align-items: center; padding: 40px; }
        .score { font-size: 80px; color: var(--neon); font-weight: bold; }
    </style>
</head>
<body>

<div id="page-input" class="container">
    <h1>Grade to Create.</h1>
    <textarea id="ques" placeholder="Enter Question..."></textarea>
    <textarea id="ans" placeholder="Enter Your Answer..."></textarea>
    <button onclick="generateReport()">â†‘ Grade Answer</button>
</div>

<div id="page-report">
    <div class="score" id="scoreDisplay">--/10</div>
    <div id="reportContent" style="max-width: 700px; line-height: 1.6;"></div>
    <button onclick="location.reload()" style="margin-top: 20px;">Try Another</button>
</div>

<script>
    // 1. YOUR API KEY (Get from Google AI Studio)
    const GEMINI_API_KEY = "PASTE_YOUR_KEY_HERE";

    async function generateReport() {
        const q = document.getElementById('ques').value;
        const a = document.getElementById('ans').value;
        if(!a) return alert("Enter an answer!");

        // Switch to the Report Page
        document.getElementById('page-input').style.display = 'none';
        document.getElementById('page-report').style.display = 'flex';
        document.getElementById('reportContent').innerHTML = "<i>Analyzing with Cloud Gemini...</i>";

        try {
            // Talk directly to Google Gemini
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${GEMINI_API_KEY}`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: `You are a Senior Science Professor. Question: ${q} Answer: ${a}. Give a score out of 10 and a detailed report in HTML format. Bold the key improvements needed.` }] }]
                })
            });

            const data = await response.json();
            const rawOutput = data.candidates[0].content.parts[0].text;
            
            // Display the AI results
            document.getElementById('reportContent').innerHTML = rawOutput;
            document.getElementById('scoreDisplay').innerText = "AI Verified";
        } catch (error) {
            document.getElementById('reportContent').innerHTML = "Connection Error. Check your API Key.";
        }
    }
</script>
</body>
</html>
